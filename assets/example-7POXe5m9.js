import{d as A,r as y,o as f,c as k,w as m,a,u as t,a9 as v,ac as x,ad as M,ae as P,af as $,ag as B,ah as w,ai as F,aj as N,B as R,i,a0 as S,h as L,v as T,a5 as V,M as j,aS as D}from"./index--6StonPM.js";import{u as E}from"./useStorytelling-Dbk8TeNj.js";const _=(e,n)=>({type:"zoomTo",payload:{center:e,zoom:n}}),I=e=>({type:"panTo",payload:{center:e}}),O=e=>({type:"rotateTo",payload:{angle:e}}),z=e=>({type:"drawRoute",payload:{geojson:e}}),H=e=>({type:"highlightElement",payload:{selector:e}}),Z=(e,n=.01,r=5e3)=>({type:"orbitAround",payload:{center:e,radius:n,duration:r}}),q=(e,n,r)=>({type:e,custom:!0,add:n,remove:r}),G=(e=.01,n=5e3)=>({type:"orbitAroundCurrent",payload:{radius:e,duration:n}}),J={class:"buttons-container"},K={style:{padding:"8px"}},Q={key:0},U=i("div",{id:"btn-highlight"},null,-1),Y=A({__name:"example",setup(e){const n=y(),r=y("");function g(d){r.value=d.id,D(d.id,o=>{o.addSource("route",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),o.addLayer({id:"line-layer",type:"line",source:"route",paint:{"line-color":"#FF0000","line-width":4,"line-opacity":.8}})})}const C=[{id:"1",duration:3e3,actions:[_([105.85,21.03],12)]},{id:"2",duration:3e3,actions:[I([105.82,21.07])]},{id:"3",duration:3e3,actions:[O(180)]},{id:"4",duration:3e3,actions:[z({type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[105.84,21.03],[105.85,21.05],[105.86,21.07]]}}]})]},{id:"5",duration:3e3,actions:[H("#btn-highlight")]},{id:"6",duration:6e3,actions:[Z([105.85,21],.005,6e3)]},{id:"8",duration:3e3,actions:[q("log",()=>console.log("Chapter 9 started"),()=>console.log("Chapter 9 ended"))]},{id:"9",duration:3e3,actions:[_([105.86,21.08],15)]},{id:"6",duration:6e3,actions:[G(.005,6e3)]}],{play:c,pause:l,next:p,prev:u,isPlaying:h,currentIndex:b}=E(r,{chapters:C,autoPlay:!1,autoNext:!0,loop:!1});return(d,o)=>(f(),k(t(j),{ref_key:"mapRef",ref:n,onMapLoaded:g},{default:m(()=>[a(t(v),{position:"top-right"}),a(t(x),{position:"top-right"}),a(t(M)),a(t(P)),a(t($)),a(t(B)),a(t(w)),a(t(F)),a(t(N)),a(t(R),{position:"bottom-left"}),i("div",J,[a(t(V),null,{default:m(()=>[i("button",{onClick:o[0]||(o[0]=(...s)=>t(c)&&t(c)(...s))},"Play"),i("button",{onClick:o[1]||(o[1]=(...s)=>t(l)&&t(l)(...s))},"Pause"),i("button",{onClick:o[2]||(o[2]=(...s)=>t(u)&&t(u)(...s))},"Prev"),i("button",{onClick:o[3]||(o[3]=(...s)=>t(p)&&t(p)(...s))},"Next"),i("div",K,[i("div",null,"Current: "+S(t(b)),1),t(h)?(f(),L("div",Q,"‚èØ Playing")):T("",!0),U])]),_:1})])]),_:1},512))}});export{Y as default};
